import Head from 'next/head';
import Image from 'next/image';
import TLogo from '../public/tonyflix.png';
import Link from 'next/link';
import AccountImage from '../public/account3.png';
import useAuth from '../hooks/useAuth';
import useSubscription from '../hooks/useSubscription';
import Moment from 'moment';

function Account() {

	const { user } = useAuth();
	const subscription = useSubscription(user);

	const formatDateSubscription = Moment(subscription?.created).format('DD/MM/YYYY');

	return (
		<div>
			<Head>
				<title>Tonyflix - Compte</title>
				<meta name='description' content='Generated by create next app' />
				<link rel='icon' href='/favicon.ico' />
			</Head>

			<header>
				<Link href='/'>
					<Image
						src={TLogo}
						alt='Tonyflix Logo'
						width={150}
						height={50}
						className='cursor-pointer object-contain'/>
				</Link>
				<Link href='/account'>
					<Image src={AccountImage}
						alt='Account Logo'
						width={50}
						height={50}
						className='cursor-pointer rounded'/>
				</Link>
			</header>

			<main className='pt-24'>
				<div>
					<h1 className='text-3xl md:text-4xl'>Votre compte</h1>
					<div>
						<p>Membre depuis le {formatDateSubscription}</p>
					</div>
				</div>
			</main>
		</div>
	);
}

export default Account;